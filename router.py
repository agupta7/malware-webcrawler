import web
from WebCrawller import WebCrawller

urls = (
    '/', 'Crawl',
    '/crawl', 'Crawl'
)

class Crawl:
    def GET(self):
        web.header('Content-Type', 'text/html')
        queryParams = web.input()
        crawller = WebCrawller()
        return crawller.crawl(queryParams.root)

if __name__ == "__main__":
    app = web.application(urls, globals())
    app.run()